(this["webpackJsonpmesto-react"]=this["webpackJsonpmesto-react"]||[]).push([[0],{29:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n.n(c),s=n(19),i=n.n(s),o=(n(29),n(23)),r=n(2),l="https://auth.nomoreparties.co/",u=n.p+"static/media/Vector.03b78ada.svg",p=n(3),j=n(8),d=n(0);var m=function(e){return Object(d.jsxs)("div",{className:"header section section_size_narrow",children:[Object(d.jsx)("img",{src:u,alt:"\u043b\u043e\u0433\u043e\u0442\u0438\u043f \u043c\u0435\u0441\u0442\u043e \u0420\u043e\u0441\u0441\u0438\u044f",className:"logo"}),Object(d.jsxs)(p.d,{children:[Object(d.jsx)(p.b,{path:"/sing-up",children:Object(d.jsx)("div",{className:"header__container",children:Object(d.jsx)(j.b,{to:"sing-in",className:"header__link opacity",children:" \u0412\u043e\u0439\u0442\u0438 "})})}),Object(d.jsx)(p.b,{path:"/sing-in",children:Object(d.jsx)("div",{className:"header__container",children:Object(d.jsx)(j.b,{to:"sing-up",className:"header__link opacity",children:" \u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f "})})}),Object(d.jsx)(p.b,{path:"/",children:Object(d.jsxs)("div",{className:"header__container",children:[Object(d.jsx)("div",{children:e.email}),Object(d.jsx)(j.b,{to:"sing-in",className:"header__link opacity",onClick:e.onSignOut,children:" \u0412\u044b\u0439\u0442\u0438 "})]})})]})]})},b=a.a.createContext();var h=function(e){var t=a.a.useContext(b),n=e.card.owner._id===t._id,c=e.card.likes.some((function(e){return e._id===t._id})),s=" ".concat(n?"cards__delete-icon opacity":"cards__delete-icon opacity visibility"),i="".concat(c?"cards__button-like opacity cards__button-like-active":"cards__button-like opacity");return Object(d.jsxs)("article",{className:"cards__element",children:[Object(d.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABIAAAAUCAYAAACAl21KAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC4SURBVHgBrZQNEcIwDEa/cAhAwiQgAQlIwAGWkDAHVMIkxMGGgpJw7dH1st013btbL2uTt6z7ATaIMd7lmOOa21b+ORUNxpoWXaq5p+RynUhETLLwTkU9BBXNxpVb+XU0SPBAHyPpKLIr/F0tskcTkugV/YzqOGUr/HApYvhZStFhHR0mmuBndWs9sA6Uz/Q5woG8Q1R3xGiHc1CKPBvOlojRQSn6oB22RAHthBxQObv3KzX4f/XCF51ui58EdOBbAAAAAElFTkSuQmCC",alt:"\u043a\u043d\u043e\u043f\u043a\u0430 \u0443\u0434\u0430\u043b\u0438\u0442\u044c",className:"".concat(s),onClick:function(){e.onCardDelete(e.card)}}),Object(d.jsx)("img",{className:"cards__image",src:e.card.link,alt:e.card.name,onClick:function(){e.onCardClick(e.card)}}),Object(d.jsxs)("div",{className:"cards__content",children:[Object(d.jsxs)("p",{className:"cards__text",children:[" ",e.card.name," "]}),Object(d.jsxs)("div",{className:"cards__block-like",children:[Object(d.jsx)("div",{className:"".concat(i),onClick:function(){e.onCardLike(e.card)}}),Object(d.jsxs)("p",{className:"cards__number-like",children:[" ",e.card.likes.length," "]})]})]})]})},O=n.p+"static/media/Vector_pen.8667ac4a.svg",f=n.p+"static/media/Vector_plus.d86bb2ed.svg";var _=function(e){var t=a.a.useContext(b);return Object(d.jsxs)("main",{className:"content section section_size_wide",children:[Object(d.jsxs)("section",{className:"profile section section_size_wide",children:[Object(d.jsxs)("div",{className:"profile__info",children:[Object(d.jsx)("div",{className:"profile__avatar",children:Object(d.jsx)("button",{type:"button",onClick:e.onEditAvatar,className:"profile__avatar-btn",children:Object(d.jsx)("img",{src:t.avatar,alt:"\u0444\u043e\u0442\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f",className:"profile__avatar-image"})})}),Object(d.jsxs)("article",{className:"profile__texts",children:[Object(d.jsxs)("div",{className:"profile__rows",children:[Object(d.jsx)("h1",{className:"profile__title",children:t.name}),Object(d.jsx)("img",{src:O,alt:"\u0438\u043a\u043e\u043d\u043a\u0430 \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f \u043f\u0440\u043e\u0444\u0438\u043b\u044f",onClick:e.onEditProfile,className:"profile__edit-button opacity"})]}),Object(d.jsx)("h2",{className:"profile__subtitle",children:t.about})]})]}),Object(d.jsx)("img",{src:f,alt:"\u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043a\u0430\u0440\u0442\u043e\u0447\u043a\u0443",onClick:e.onAddPlace,className:"profile__button profile__button-card opacity"})]}),Object(d.jsx)("section",{className:"cards section section_size_wide",children:e.cards&&e.cards.map((function(t){return Object(d.jsx)(h,{card:t,onCardClick:e.onCardClick,onCardLike:e.onCardLike,onCardDelete:e.onCardDelete},t._id)}))})]})};var g=function(e){return Object(d.jsxs)("div",{className:"popup popup_".concat(e.name," ").concat(e.isOpen?"popup_visible":""),children:[Object(d.jsx)("div",{className:"popup__overlay"}),Object(d.jsxs)("form",{className:"popup__content popup__content_size-normal popup__content_".concat(e.name),onSubmit:e.onSubmit,children:[Object(d.jsx)("div",{className:"popup__close-icon opacity popup__close-icon-".concat(e.name),onClick:e.onClose,children:"+"}),Object(d.jsx)("h2",{className:"popup__title",children:"".concat(e.title)}),e.children,Object(d.jsxs)("button",{type:"submit",className:"popup__button popup__button_margin-normal",children:[" ",e.button," "]})]})]})};var A=function(e){var t=a.a.useState(),n=Object(r.a)(t,2),c=n[0],s=n[1],i=a.a.useState(),o=Object(r.a)(i,2),l=o[0],u=o[1];return Object(d.jsxs)(g,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onAddPlace({name:c,link:l}),s(""),u("")},name:"card",title:"\u041d\u043e\u0432\u043e\u0435 \u043c\u0435\u0441\u0442\u043e",button:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(d.jsxs)("div",{className:"popup__item-container",children:[Object(d.jsx)("input",{type:"text",name:"name",className:"popup__item popup__item_el_place",onChange:function(e){s(e.target.value)},value:c||"",placeholder:"\u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435",id:"input-place",minLength:"2",maxLength:"30",required:!0}),Object(d.jsx)("span",{className:"popup__error-input",id:"input-place--error"})]}),Object(d.jsxs)("div",{className:"popup__item-container",children:[Object(d.jsx)("input",{type:"url",name:"link",className:"popup__item popup__item_el_link",onChange:function(e){u(e.target.value)},value:l||"",id:"input-link",placeholder:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(d.jsx)("span",{className:"popup__error-input",id:"input-link--error"})]})]})};var x=function(e){var t=a.a.useContext(b),n=a.a.useState(""),c=Object(r.a)(n,2),s=c[0],i=c[1],o=a.a.useState(""),l=Object(r.a)(o,2),u=l[0],p=l[1];return a.a.useEffect((function(){i(t?t.name:""),p(t?t.about:"")}),[t,e.isOpen]),Object(d.jsxs)(g,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(t){t.preventDefault(),e.onUpdateUser({name:s,about:u})},name:"profile",title:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u044c",button:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:[Object(d.jsxs)("div",{className:"popup__item-container",children:[Object(d.jsx)("input",{type:"text",className:"popup__item popup__item_el_name",placeholder:"\u0438\u043c\u044f",id:"input-name",minLength:"2",maxLength:"40",required:!0,onChange:function(e){i(e.target.value)},value:s||""}),Object(d.jsx)("span",{className:"popup__error-input",id:"input-name--error"})]}),Object(d.jsxs)("div",{className:"popup__item-container",children:[Object(d.jsx)("input",{type:"text",className:"popup__item popup__item_el_comment",placeholder:"\u043e \u0441\u0435\u0431\u0435",id:"input-comment",minLength:"2",maxLength:"200",required:!0,onChange:function(e){p(e.target.value)},value:u||""}),Object(d.jsx)("span",{className:"popup__error-input",id:"input-comment--error"})]})]})};var v=function(e){var t=a.a.useRef();return Object(d.jsx)(g,{isOpen:e.isOpen,onClose:e.onClose,onSubmit:function(n){n.preventDefault(),e.onUpdateAvatar({avatar:t.current.value})},name:"avatar",title:"\u0418\u0437\u043c\u0435\u043d\u0438\u0442\u044c \u0444\u043e\u0442\u043e\u0433\u0440\u0430\u0444\u0438\u044e",button:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",children:Object(d.jsxs)("div",{className:"popup__item-container",children:[Object(d.jsx)("input",{type:"url",name:"avatar",className:"popup__item popup__item_el_link",id:"input-avatar",ref:t,placeholder:"\u0441\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0443",required:!0}),Object(d.jsx)("span",{className:"popup__error-input",id:"input-avatar--error"})]})})};var N=function(e){return Object(d.jsxs)("div",{className:"popup popup__info ".concat(e.isOpen?"popup_visible":""),children:[Object(d.jsx)("div",{className:"popup__overlay"}),Object(d.jsxs)("div",{className:"popup__content popup__content_size-min popup__content_center",children:[Object(d.jsx)("img",{className:"popup__img",src:"".concat(e.flag?"data:image/png;base64,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":"data:image/png;base64,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"),alt:"#"}),Object(d.jsx)("div",{className:"popup__close-icon opacity",onClick:e.onClose,children:"+"}),Object(d.jsx)("h2",{className:"popup__subtitle",children:"".concat(e.flag?"\u0412\u044b \u0443\u0441\u043f\u0435\u0448\u043d\u043e \u0437\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043b\u0438\u0441\u044c!":"\u0427\u0442\u043e-\u0442\u043e \u043f\u043e\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435!")})]})]})};var C=function(e){return Object(d.jsx)("div",{className:"popup popup_add-image ".concat(e.card.link?"popup_visible":""),children:Object(d.jsx)("div",{className:"popup__overlay",children:Object(d.jsxs)("figure",{className:"popup__figure ",children:[Object(d.jsx)("div",{className:"popup__close-icon opacity popup__close-icon-add",onClick:e.onClose,children:"+"}),Object(d.jsx)("img",{src:e.card.link,alt:e.card.name,className:"popup__image"}),Object(d.jsxs)("figcaption",{className:"popup__figcaption",children:[" ",e.card.name," "]})]})})})};var w=function(){return Object(d.jsx)("div",{className:"footer section section_size_wide",children:Object(d.jsx)("p",{className:"footer__copyright",children:"\xa9 2021 Mesto Russia"})})},k=n(12),y=n(21),S=n(22),E=new(function(){function e(t){var n=t.baseUrl,c=t.token,a=t.cohort;Object(y.a)(this,e),this._baseUrl=n,this._token=c,this._cohort=a}return Object(S.a)(e,[{key:"_request",value:function(e,t,n){var c={method:t,headers:{authorization:this._token,"Content-Type":"application/json"}};return fetch("".concat(this._baseUrl,"/").concat(this._cohort,"/").concat(e),n?Object(k.a)(Object(k.a)({},c),{},{body:JSON.stringify(n)}):c).then((function(e){if(e.ok)return e.json();Promise.reject("\u043e\u0448\u0438\u0431\u043a\u0430: ".concat(e.status))}))}},{key:"getUserInfo",value:function(){return this._request("users/me","GET")}},{key:"editUserInfo",value:function(e){return this._request("users/me","PATCH",e)}},{key:"editAvatar",value:function(e){return this._request("users/me/avatar","PATCH",e)}},{key:"getUserId",value:function(){return this._request("users/me","GET")}},{key:"getCards",value:function(){return this._request("cards","GET")}},{key:"setNewCard",value:function(e){return this._request("cards","POST",e)}},{key:"deleteCard",value:function(e){return this._request("cards/".concat(e),"DELETE")}},{key:"like",value:function(e,t){return this._request("cards/likes/".concat(e),t?"DELETE":"PUT")}}]),e}())({baseUrl:"https://mesto.nomoreparties.co/v1",token:"17967209-61dd-4a29-b076-c48750c9d1ad",cohort:"cohort-24"});var I=Object(p.h)((function(e){var t=a.a.useState(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=a.a.useState(""),o=Object(r.a)(i,2),l=o[0],u=o[1];return Object(d.jsx)("div",{className:"sing section section_size_narrow",children:Object(d.jsxs)("form",{className:"sing__content section section_size_wide",onSubmit:function(t){t.preventDefault(),e.onLogin(c,l)},children:[Object(d.jsx)("h2",{className:"sing__title",children:"\u0412\u0445\u043e\u0434"}),Object(d.jsxs)("div",{className:"sing__item-container",children:[Object(d.jsx)("input",{className:"sing__item",placeholder:"Email",type:"email",name:"email",required:!0,onChange:function(e){s(e.target.value)}}),Object(d.jsx)("span",{className:"sing__error-input"})]}),Object(d.jsxs)("div",{className:"sing__item-container",children:[Object(d.jsx)("input",{className:"sing__item",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",required:!0,onChange:function(e){u(e.target.value)}}),Object(d.jsx)("span",{className:"sing__error-input"})]}),Object(d.jsx)("button",{type:"submit",className:"sing__button opacity",children:"\u0412\u043e\u0439\u0442\u0438"})]})})}));var W=Object(p.h)((function(e){var t=a.a.useState(""),n=Object(r.a)(t,2),c=n[0],s=n[1],i=a.a.useState(""),o=Object(r.a)(i,2),l=o[0],u=o[1];return Object(d.jsx)("div",{className:"sing section section_size_narrow",children:Object(d.jsxs)("form",{className:"sing__content section section_size_wide",onSubmit:function(t){t.preventDefault(),e.onRegister(c,l)},children:[Object(d.jsx)("h2",{className:"sing__title",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),Object(d.jsxs)("div",{className:"sing__item-container",children:[Object(d.jsx)("input",{className:"sing__item",placeholder:"Email",name:"email",type:"email",required:!0,onChange:function(e){s(e.target.value)}}),Object(d.jsx)("span",{className:"sing__error-input"})]}),Object(d.jsxs)("div",{className:"sing__item-container",children:[Object(d.jsx)("input",{className:"sing__item",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",name:"password",type:"password",required:!0,onChange:function(e){u(e.target.value)},value:l||""}),Object(d.jsx)("span",{className:"sing__error-input"})]}),Object(d.jsx)("button",{type:"submit",className:"sing__button opacity",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"}),Object(d.jsxs)("div",{className:"sing__text",children:["\u0423\u0436\u0435 \u0437\u0430\u0440\u0435\u0433\u0435\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u043d\u044b? ",Object(d.jsx)(j.b,{className:"sing__text-link opacity",to:"/sing-in",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})})),z=n(24),B=["component"],R=function(e){var t=e.component,n=Object(z.a)(e,B);return Object(d.jsx)(p.b,{children:function(){return n.loggedIn?Object(d.jsx)(t,Object(k.a)({},n)):Object(d.jsx)(p.a,{to:"./sign-in"})}})};var V=function(){var e=a.a.useState(!1),t=Object(r.a)(e,2),n=t[0],c=t[1],s=a.a.useState(!1),i=Object(r.a)(s,2),u=i[0],j=i[1],h=a.a.useState(!1),O=Object(r.a)(h,2),f=O[0],g=O[1],k=a.a.useState(!1),y=Object(r.a)(k,2),S=y[0],z=y[1],B=a.a.useState({}),V=Object(r.a)(B,2),H=V[0],U=V[1],L=a.a.useState({}),J=Object(r.a)(L,2),T=J[0],Q=J[1],P=a.a.useState([]),q=Object(r.a)(P,2),X=q[0],K=q[1],G=a.a.useState(""),Z=Object(r.a)(G,2),D=Z[0],F=Z[1],Y=a.a.useState(!1),M=Object(r.a)(Y,2),$=M[0],ee=M[1],te=a.a.useState(!1),ne=Object(r.a)(te,2),ce=ne[0],ae=ne[1],se=a.a.useState(!1),ie=Object(r.a)(se,2),oe=ie[0],re=ie[1],le=Object(p.g)();function ue(){g(!1),c(!1),j(!1),z(!1),U({})}return a.a.useEffect((function(){re(!0),ce?Promise.all([E.getCards(),E.getUserInfo()]).then((function(e){var t=Object(r.a)(e,2),n=t[0],c=t[1];K(n),Q(c)})).catch((function(e){console.log(e)})).finally((function(){return re(!1)})):re(!1)}),[ce]),a.a.useEffect((function(){!function(){if(re(!0),localStorage.getItem("jwt")){re(!0);var e=localStorage.getItem("jwt");(t=e,fetch("".concat(l,"users/me"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))).then((function(e){ae(!0),F(e.data.email),le.push("/")})).catch((function(e){return console.log(e)})).finally((function(){return re(!1)}))}else re(!1);var t}()}),[]),oe?Object(d.jsx)("div",{className:"page__container"}):Object(d.jsx)("div",{className:"page__container",children:Object(d.jsxs)(b.Provider,{value:T,children:[Object(d.jsx)(m,{email:D,onSignOut:function(e){localStorage.removeItem("jwt"),F("")}}),Object(d.jsxs)(p.d,{children:[Object(d.jsx)(R,{path:"/main",loggedIn:ce,component:_,onEditProfile:function(){c(!0)},onEditAvatar:function(){g(!0)},onCardClick:function(e){U(e)},cards:X,onCardLike:function(e){var t=e.likes.some((function(e){return e._id===T._id}));E.like(e._id,t).then((function(t){K((function(n){return n.map((function(n){return n._id===e._id?t:n}))}))})).catch((function(e){console.log(e)}))},onCardDelete:function(e){E.deleteCard(e._id).then((function(t){return K((function(t){return t.filter((function(t){return t._id!==e._id}))}))})).catch((function(e){console.log(e)}))},onAddPlace:function(){j(!0)}}),Object(d.jsx)(p.b,{path:"/sing-up",children:Object(d.jsx)(W,{onRegister:function(e,t){(function(e,t){return fetch("".concat(l,"signup"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))})(e,t).then((function(){ee(!0),z(!0),le.push("/sing-in")})).catch((function(e){ee(!1),z(!0),console.log(e)}))}})}),Object(d.jsx)(p.b,{path:"/sing-in",children:!oe&&Object(d.jsx)(I,{onLogin:function(e,t){(function(e,t){return fetch("".concat(l,"signin"),{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({password:t,email:e})}).then((function(e){return e.ok?e.json():Promise.reject(e.status)}))})(e,t).then((function(t){localStorage.setItem("jwt",t.token),ae(!0),le.push("/"),F(e)})).catch((function(e){ee(!1),z(!0),console.log(e)}))}})}),Object(d.jsx)(p.b,{path:"/",children:ce?Object(d.jsx)(p.a,{to:"/main"}):Object(d.jsx)(p.a,{to:"/sing-in"})})]}),Object(d.jsx)(w,{}),Object(d.jsx)(x,{isOpen:n,onClose:ue,onUpdateUser:function(e){E.editUserInfo(e).then((function(e){Q(e),c(!1)})).catch((function(e){console.log(e)}))}}),Object(d.jsx)(v,{isOpen:f,onClose:ue,onUpdateAvatar:function(e){E.editAvatar(e).then((function(e){Q(e),g(!1)})).catch((function(e){console.log(e)}))}}),Object(d.jsx)(A,{isOpen:u,onClose:ue,onAddPlace:function(e){E.setNewCard(e).then((function(e){K([e].concat(Object(o.a)(X))),j(!1)})).catch((function(e){console.log(e)}))}}),Object(d.jsx)(C,{card:H,onClose:ue}),Object(d.jsx)(N,{isOpen:S,onClose:ue,flag:$})]})})},H=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,37)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))};i.a.render(Object(d.jsx)(a.a.StrictMode,{children:Object(d.jsx)(j.a,{children:Object(d.jsx)(V,{})})}),document.getElementById("root")),H()}},[[36,1,2]]]);
//# sourceMappingURL=main.c67a9b8c.chunk.js.map